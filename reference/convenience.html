
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Generic Convenience Modules &#8212; pynbody 0.46 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.46',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Automatically Derived Arrays" href="derived.html" />
    <link rel="prev" title="Essential Framework Modules" href="essentials.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
<link href="_static/customise.css" rel="stylesheet">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-pynbody.bridge">
<span id="generic-convenience-modules"></span><h1>Generic Convenience Modules<a class="headerlink" href="#module-pynbody.bridge" title="Permalink to this headline">¶</a></h1>
<div class="section" id="bridge">
<h2>bridge<a class="headerlink" href="#bridge" title="Permalink to this headline">¶</a></h2>
<p>The bridge module has tools for connecting different outputs. For instance,
it’s possible to take a subview (e.g. a halo) from one snapshot and ‘push’
it into the other. This is especially useful if the two snapshots are
different time outputs of the same simulation.</p>
<p>Once connected, bridge called on a specific subset of particles in
output1 will trace these particles back (or forward) to the output2,
enabling observing a change in their properties, such as position,
temperature, etc.</p>
<p>For a tutorial on how to use the bridge module to trace the particles
in your simulation, see the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/bridge.html">bridge tutorial</a>.</p>
<dl class="class">
<dt id="pynbody.bridge.Bridge">
<em class="property">class </em><code class="descclassname">pynbody.bridge.</code><code class="descname">Bridge</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#Bridge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.Bridge" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic Bridge class</p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pynbody.bridge.Bridge.is_same">
<code class="descname">is_same</code><span class="sig-paren">(</span><em>i1</em>, <em>i2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#Bridge.is_same"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.Bridge.is_same" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the particle i1 in the start point is the same
as the particle i2 in the end point.</p>
</dd></dl>

<dl class="method">
<dt id="pynbody.bridge.Bridge.match_catalog">
<code class="descname">match_catalog</code><span class="sig-paren">(</span><em>min_index=1</em>, <em>max_index=30</em>, <em>threshold=0.5</em>, <em>groups_1=None</em>, <em>groups_2=None</em>, <em>use_family=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#Bridge.match_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.Bridge.match_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a Halos object groups_1, a Halos object groups_2 and a
Bridge object connecting the two parent simulations, this identifies
the most likely ID’s in groups_2 of the objects specified in groups_1.</p>
<p>If groups_1 and groups_2 are not specified, they are automatically obtained
using the SimSnap.halos method.</p>
<p>Parameters min_index and max_index are the minimum and maximum halo
numbers to be matched (in both ends of the bridge). If max_index is
too large, the catalogue matching can take prohibitively long (it
scales as max_index^2).</p>
<p>This routine currently uses particle number as a proxy for mass, so that the
main simulation data does not need to be loaded.</p>
<p>If b links snapshot f1 (high redshift) to f2 (low redshift) and we set</p>
<blockquote>
<div>cat = b.match_catalog()</div></blockquote>
<p>then cat is now a numpy index array such that f1.halos()[i] is the
major progenitor for f2.halos()[cat[i]], assuming cat[i] is positive.</p>
<p>cat[0:min_index+1] is set to -2. Halos which cannot be matched because
they have too few particles in common give the result -1. This is determined
by the given threshold fraction of particles in common (by default, 50%).</p>
<p>If use_family is specified, only particles from that family are cross-matched.
This can be useful e.g. if matching between two different simulations where
the relationship between DM particles is known, but perhaps the relationship
between star particles is random.</p>
</dd></dl>

<dl class="method">
<dt id="pynbody.bridge.Bridge.fuzzy_match_catalog">
<code class="descname">fuzzy_match_catalog</code><span class="sig-paren">(</span><em>min_index=1</em>, <em>max_index=30</em>, <em>threshold=0.01</em>, <em>groups_1=None</em>, <em>groups_2=None</em>, <em>use_family=None</em>, <em>only_family=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#Bridge.fuzzy_match_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.Bridge.fuzzy_match_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>fuzzy_match_catalog returns, for each halo in groups_1, a list of possible
identifications in groups_2, along with the fraction of particles in common
between the two.</p>
<p>Normally, match_catalog is simpler to use, but this routine offers greater
flexibility for advanced users. The first entry for each halo corresponds
to the output from match_catalog.</p>
<p>If no identification is found, the entry is the empty list [].</p>
</dd></dl>

<dl class="method">
<dt id="pynbody.bridge.Bridge.catalog_transfer_matrix">
<code class="descname">catalog_transfer_matrix</code><span class="sig-paren">(</span><em>min_index=1</em>, <em>max_index=30</em>, <em>groups_1=None</em>, <em>groups_2=None</em>, <em>use_family=None</em>, <em>only_family=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#Bridge.catalog_transfer_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.Bridge.catalog_transfer_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a max_index x max_index matrix with the number of particles transferred from
the row group in groups_1 to the column group in groups_2.</p>
<p>Normally, match_catalog (or fuzzy_match_catalog) are easier to use, but this routine
provides the maximal information.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynbody.bridge.OrderBridge">
<em class="property">class </em><code class="descclassname">pynbody.bridge.</code><code class="descname">OrderBridge</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>order_array='iord'</em>, <em>monotonic=True</em>, <em>allow_family_change=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#OrderBridge"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.OrderBridge" title="Permalink to this definition">¶</a></dt>
<dd><p>An OrderBridge uses integer arrays in two simulations
(start,end) where particles i_start and i_end are
defined to be the same if and only if
start[order_array][i_start] == start[order_array][i_end].</p>
<p>If monotonic is True, order_array must be monotonically increasing
in both ends of the bridge (and this is not checked for you). If
monotonic is False, the bridging is slower but this is the
failsafe option.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.bridge.bridge_factory">
<code class="descclassname">pynbody.bridge.</code><code class="descname">bridge_factory</code><span class="sig-paren">(</span><em>a</em>, <em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/bridge.html#bridge_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.bridge.bridge_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a bridge connecting the two specified snapshots. For
more information see <span class="xref std std-ref">bridge-tutorial</span>.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.filt"></span><div class="section" id="filt">
<h2>filt<a class="headerlink" href="#filt" title="Permalink to this headline">¶</a></h2>
<p>Defines and implements ‘filters’ which allow abstract subsets
of data to be specified.</p>
<p>See the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/filters.html">filter tutorial</a> for some
sample usage.</p>
<dl class="class">
<dt id="pynbody.filt.Sphere">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">Sphere</code><span class="sig-paren">(</span><em>radius</em>, <em>cen=(0</em>, <em>0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#Sphere"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.Sphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Return particles that are within <cite>radius</cite> of the point <cite>cen</cite>.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pynbody.filt.Cuboid">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">Cuboid</code><span class="sig-paren">(</span><em>x1</em>, <em>y1=None</em>, <em>z1=None</em>, <em>x2=None</em>, <em>y2=None</em>, <em>z2=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#Cuboid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.Cuboid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a cube with specified edge coordinates. If any of the cube
coordinates <cite>x1</cite>, <cite>y1</cite>, <cite>z1</cite>, <cite>x2</cite>, <cite>y2</cite>, <cite>z2</cite> are not specified
they are determined as <cite>y1=x1;</cite> <cite>z1=x1;</cite> <cite>x2=-x1;</cite> <cite>y2=-y1;</cite>
<cite>z2=-z1</cite>.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pynbody.filt.Disc">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">Disc</code><span class="sig-paren">(</span><em>radius</em>, <em>height</em>, <em>cen=(0</em>, <em>0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#Disc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.Disc" title="Permalink to this definition">¶</a></dt>
<dd><p>Return particles that are within a disc of extent <cite>radius</cite> and
thickness <cite>height</cite> centered on <cite>cen</cite>.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pynbody.filt.BandPass">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">BandPass</code><span class="sig-paren">(</span><em>prop</em>, <em>min</em>, <em>max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#BandPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.BandPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return particles whose property <cite>prop</cite> is within <cite>min</cite> and <cite>max</cite>,
which can be specified as unit strings.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pynbody.filt.HighPass">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">HighPass</code><span class="sig-paren">(</span><em>prop</em>, <em>min</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#HighPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.HighPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return particles whose property <cite>prop</cite> exceeds <cite>min</cite>, which can be
specified as a unit string.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="class">
<dt id="pynbody.filt.LowPass">
<em class="property">class </em><code class="descclassname">pynbody.filt.</code><code class="descname">LowPass</code><span class="sig-paren">(</span><em>prop</em>, <em>max</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#LowPass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.LowPass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return particles whose property <cite>prop</cite> is less than <cite>max</cite>, which can be
specified as a unit string.</p>
<p class="rubric">Methods</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.filt.Annulus">
<code class="descclassname">pynbody.filt.</code><code class="descname">Annulus</code><span class="sig-paren">(</span><em>r1</em>, <em>r2</em>, <em>cen=(0</em>, <em>0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#Annulus"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.Annulus" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that returns a filter which selects particles
in between two spheres specified by radii <cite>r1</cite> and <cite>r2</cite> centered
on <cite>cen</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.filt.SolarNeighborhood">
<code class="descclassname">pynbody.filt.</code><code class="descname">SolarNeighborhood</code><span class="sig-paren">(</span><em>r1=Unit(&quot;5.00e+00 kpc&quot;)</em>, <em>r2=Unit(&quot;1.00e+01 kpc&quot;)</em>, <em>height=Unit(&quot;2.00e+00 kpc&quot;)</em>, <em>cen=(0</em>, <em>0</em>, <em>0)</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/filt.html#SolarNeighborhood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.filt.SolarNeighborhood" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that returns a filter which selects particles
in a disc between radii <cite>r1</cite> and <cite>r2</cite> and thickness <cite>height</cite>.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.halo"></span><div class="section" id="halo">
<h2>halo<a class="headerlink" href="#halo" title="Permalink to this headline">¶</a></h2>
<p>Implements halo catalogue functions. If you have a supported halo
catalogue on disk or a halo finder installed and correctly configured,
you can access a halo catalogue through f.halos() where f is a
SimSnap.</p>
<p>See the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/halos.html">halo tutorial</a> for some
examples.</p>
<dl class="class">
<dt id="pynbody.halo.Halo">
<em class="property">class </em><code class="descclassname">pynbody.halo.</code><code class="descname">Halo</code><span class="sig-paren">(</span><em>halo_id</em>, <em>halo_catalogue</em>, <em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#Halo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.Halo" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic class representing a halo.</p>
<p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pynbody.halo.Halo.is_subhalo">
<code class="descname">is_subhalo</code><span class="sig-paren">(</span><em>otherhalo</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#Halo.is_subhalo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.Halo.is_subhalo" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function that calls the corresponding function in
a halo catalogue.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynbody.halo.HaloCatalogue">
<em class="property">class </em><code class="descclassname">pynbody.halo.</code><code class="descname">HaloCatalogue</code><span class="sig-paren">(</span><em>sim</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#HaloCatalogue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.HaloCatalogue" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic halo catalogue object.</p>
<p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pynbody.halo.HaloCatalogue.is_subhalo">
<code class="descname">is_subhalo</code><span class="sig-paren">(</span><em>childid</em>, <em>parentid</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#HaloCatalogue.is_subhalo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.HaloCatalogue.is_subhalo" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks whether the specified ‘childid’ halo is a subhalo
of ‘parentid’ halo.</p>
</dd></dl>

<dl class="method">
<dt id="pynbody.halo.HaloCatalogue.get_group_array">
<code class="descname">get_group_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#HaloCatalogue.get_group_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.HaloCatalogue.get_group_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an array with an integer for each particle in the simulation
indicating which halo that particle is associated with. If there are multiple
levels (i.e. subhalos), the number returned corresponds to the lowest level, i.e.
the smallest subhalo.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pynbody.halo.GrpCatalogue">
<em class="property">class </em><code class="descclassname">pynbody.halo.</code><code class="descname">GrpCatalogue</code><span class="sig-paren">(</span><em>sim</em>, <em>array='grp'</em>, <em>ignore=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#GrpCatalogue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.GrpCatalogue" title="Permalink to this definition">¶</a></dt>
<dd><p>A generic catalogue using a .grp file to specify which particles
belong to which group.</p>
<p class="rubric">Attributes</p>
<p class="rubric">Methods</p>
<dl class="method">
<dt id="pynbody.halo.GrpCatalogue.precalculate">
<code class="descname">precalculate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#GrpCatalogue.precalculate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.GrpCatalogue.precalculate" title="Permalink to this definition">¶</a></dt>
<dd><p>Speed up future operations by precalculating the indices
for all halos in one operation. This is slow compared to
getting a single halo, however.</p>
</dd></dl>

<dl class="method">
<dt id="pynbody.halo.GrpCatalogue.load_copy">
<code class="descname">load_copy</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/halo.html#GrpCatalogue.load_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.halo.GrpCatalogue.load_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the a fresh SimSnap with only the particle in halo i</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-pynbody.sph"></span><div class="section" id="sph">
<h2>sph<a class="headerlink" href="#sph" title="Permalink to this headline">¶</a></h2>
<p>pynbody SPH rendering module.</p>
<p>This module encompasses Kernel objects, which return C fragments from which
a final C code to perform the rendering is derived.</p>
<p>For most users, the function of interest will be <a class="reference internal" href="#pynbody.sph.render_image" title="pynbody.sph.render_image"><code class="xref py py-func docutils literal"><span class="pre">render_image()</span></code></a>.</p>
<dl class="function">
<dt id="pynbody.sph.render_spherical_image">
<code class="descclassname">pynbody.sph.</code><code class="descname">render_spherical_image</code><span class="sig-paren">(</span><em>snap</em>, <em>qty='rho'</em>, <em>nside=8</em>, <em>distance=10.0</em>, <em>kernel=&lt;pynbody.sph.Kernel object&gt;</em>, <em>kstep=0.5</em>, <em>denoise=None</em>, <em>out_units=None</em>, <em>threaded=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/sph.html#render_spherical_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.sph.render_spherical_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an SPH image on a spherical surface. Requires healpy libraries.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (‘rho’): The name of the simulation array to render</p>
<p><em>nside</em> (8): The healpix nside resolution to use (must be power of 2)</p>
<dl class="docutils">
<dt><em>distance</em> (10.0): The distance of the shell (for 3D kernels) or maximum distance</dt>
<dd>of the skewers (2D kernels)</dd>
</dl>
<p><em>kernel</em>: The Kernel object to use (defaults to 3D spline kernel)</p>
<dl class="docutils">
<dt><em>kstep</em> (0.5): The sampling distance when projecting onto the spherical surface in units of the</dt>
<dd>smoothing length</dd>
<dt><em>denoise</em> (False): if True, divide through by an estimate of the discreteness noise.</dt>
<dd>The returned image is then not strictly an SPH estimate, but this option can be
useful to reduce noise.</dd>
<dt><em>threaded</em>: if False, render on a single core. Otherwise, the number of threads to use.</dt>
<dd>Defaults to a value specified in your configuration files. <em>Currently multi-threaded
rendering is slower than single-threaded because healpy does not release the gil</em>.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pynbody.sph.render_image">
<code class="descclassname">pynbody.sph.</code><code class="descname">render_image</code><span class="sig-paren">(</span><em>snap</em>, <em>qty='rho'</em>, <em>x2=100</em>, <em>nx=500</em>, <em>y2=None</em>, <em>ny=None</em>, <em>x1=None</em>, <em>y1=None</em>, <em>z_plane=0.0</em>, <em>out_units=None</em>, <em>xy_units=None</em>, <em>kernel=&lt;pynbody.sph.Kernel object&gt;</em>, <em>z_camera=None</em>, <em>smooth='smooth'</em>, <em>smooth_in_pixels=False</em>, <em>force_quiet=False</em>, <em>approximate_fast=True</em>, <em>threaded=None</em>, <em>denoise=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/sph.html#render_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.sph.render_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an SPH image using a typical (mass/rho)-weighted ‘scatter’
scheme.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (‘rho’): The name of the array within the simulation to render</p>
<p><em>x2</em> (100.0): The x-coordinate of the right edge of the image</p>
<p><em>nx</em> (500): The number of pixels wide to make the image</p>
<dl class="docutils">
<dt><em>y2</em>: The y-coordinate of the upper edge of the image (default x2,</dt>
<dd>or if ny is specified, x2*ny/nx)</dd>
</dl>
<p><em>ny</em> (nx): The number of pixels tall to make the image</p>
<p><em>x1</em> (-x2): The x-coordinate of the left edge of the image</p>
<p><em>y1</em> (-y2): The y-coordinate of the lower edge of the image</p>
<p><em>z_plane</em> (0.0): The z-coordinate of the plane of the image</p>
<p><em>out_units</em> (no conversion): The units to convert the output image into</p>
<p><em>xy_units</em>: The units for the x and y axes</p>
<p><em>kernel</em>: The Kernel object to use (default Kernel(), a 3D spline kernel)</p>
<dl class="docutils">
<dt><em>z_camera</em>: If this is set, a perspective image is rendered,</dt>
<dd><p class="first">assuming the kernel is suitable (i.e. is a projecting
kernel). The camera is at the specified z coordinate looking
towards -ve z, and each pixel represents a line-of-sight radially
outwards from the camera. The width then specifies the width of
the image in the z=0 plane. Particles too close to the camera are
also excluded.</p>
<dl class="docutils">
<dt><em>smooth</em>: The name of the array which contains the smoothing lengths</dt>
<dd>(default ‘smooth’)</dd>
<dt><em>smooth_in_pixels</em>: If True, the smoothing array contains the smoothing</dt>
<dd>length in image pixels, rather than in real distance units (default False)</dd>
<dt><em>approximate_fast</em>: if True, render high smoothing length particles at</dt>
<dd>progressively lower resolution, resample and sum</dd>
<dt><em>denoise</em>: if True, divide through by an estimate of the discreteness noise.</dt>
<dd>The returned image is then not strictly an SPH estimate, but this option
can be useful to reduce noise especially when rendering AMR grids which
often introduce problematic edge effects.</dd>
</dl>
<p><em>verbose</em>: if True, all text output suppressed</p>
<dl class="last docutils">
<dt><em>threaded</em>: if False (or None), render on a single core. Otherwise,</dt>
<dd>the number of threads to use (defaults to a value specified in your
configuration files).</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pynbody.sph.to_3d_grid">
<code class="descclassname">pynbody.sph.</code><code class="descname">to_3d_grid</code><span class="sig-paren">(</span><em>snap</em>, <em>qty='rho'</em>, <em>nx=None</em>, <em>ny=None</em>, <em>nz=None</em>, <em>x2=None</em>, <em>out_units=None</em>, <em>xy_units=None</em>, <em>kernel=&lt;pynbody.sph.Kernel object&gt;</em>, <em>smooth='smooth'</em>, <em>approximate_fast=True</em>, <em>threaded=None</em>, <em>snap_slice=None</em>, <em>denoise=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/sph.html#to_3d_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.sph.to_3d_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>Project SPH onto a grid using a typical (mass/rho)-weighted ‘scatter’
scheme.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (‘rho’): The name of the array within the simulation to render</p>
<p><em>nx</em> (x2-x1 / soft): The number of pixels wide to make the grid</p>
<p><em>ny</em> (nx): The number of pixels tall to make the grid</p>
<p><em>nz</em> (nx): The number of pixels deep to make the grid</p>
<p><em>out_units</em> (no conversion): The units to convert the output grid into</p>
<p><em>xy_units</em>: The units for the x and y axes</p>
<p><em>kernel</em>: The Kernel object to use (default Kernel(), a 3D spline kernel)</p>
<dl class="docutils">
<dt><em>smooth</em>: The name of the array which contains the smoothing lengths</dt>
<dd>(default ‘smooth’)</dd>
<dt><em>denoise</em>: if True, divide through by an estimate of the discreteness noise.</dt>
<dd>The returned image is then not strictly an SPH estimate, but this option
can be useful to reduce noise especially when rendering AMR grids which
often introduce problematic edge effects.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pynbody.sph.spectra">
<code class="descclassname">pynbody.sph.</code><code class="descname">spectra</code><span class="sig-paren">(</span><em>snap</em>, <em>qty='rho'</em>, <em>x1=0.0</em>, <em>y1=0.0</em>, <em>v2=400</em>, <em>nvel=200</em>, <em>v1=None</em>, <em>element='H'</em>, <em>ion='I'</em>, <em>xy_units=Unit(&quot;kpc&quot;)</em>, <em>vel_units=Unit(&quot;km s**-1&quot;)</em>, <em>smooth='smooth'</em>, <em>__threaded=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pynbody/sph.html#spectra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.sph.spectra" title="Permalink to this definition">¶</a></dt>
<dd><p>Render an SPH spectrum using a (mass/rho)-weighted ‘scatter’
scheme of all the particles that have a smoothing length within
2 h_sm of the position.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (‘rho’): The name of the array within the simulation to render</p>
<p><em>x1</em> (0.0): The x-coordinate of the line of sight.</p>
<p><em>y1</em> (0.0): The y-coordinate of the line of sight.</p>
<p><em>v1</em> (-400.0): The minimum velocity of the spectrum</p>
<p><em>v2</em> (400.0): The maximum velocity of the spectrum</p>
<p><em>nvel</em> (500): The number of resolution elements in spectrum</p>
<p><em>xy_units</em> (‘kpc’): The units for the x and y axes</p>
<dl class="docutils">
<dt><em>smooth</em>: The name of the array which contains the smoothing lengths</dt>
<dd>(default ‘smooth’)</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Generic Convenience Modules</a><ul>
<li><a class="reference internal" href="#bridge">bridge</a></li>
<li><a class="reference internal" href="#filt">filt</a></li>
<li><a class="reference internal" href="#halo">halo</a></li>
<li><a class="reference internal" href="#sph">sph</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Pynbody reference documentation</a><ul>
      <li>Previous: <a href="essentials.html" title="previous chapter">Essential Framework Modules</a></li>
      <li>Next: <a href="derived.html" title="next chapter">Automatically Derived Arrays</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/convenience.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-18, pynbody team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/reference/convenience.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>