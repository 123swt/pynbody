
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuring pynbody &#8212; pynbody 0.46 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.46',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use of multiple processors by pynbody" href="threads.html" />
    <link rel="prev" title="Performance optimisation in pynbody" href="performance.html" />

   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
<link href="_static/customise.css" rel="stylesheet">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuring-pynbody">
<span id="configuration"></span><h1>Configuring pynbody<a class="headerlink" href="#configuring-pynbody" title="Permalink to this headline">Â¶</a></h1>
<p>Pynbody uses a flexible configuration system through the standard
Python <a class="reference external" href="https://docs.python.org/2/library/configparser.html">ConfigParser</a> class. The
default configuration is stored in <code class="docutils literal"><span class="pre">default_config.ini</span></code> in the
pynbody installation directory. The options can be overriden by
placing a <code class="docutils literal"><span class="pre">.pynbodyrc</span></code> file in the home directory and specifying
different values for configuration parameters. The configuration file
sets up basic things like particle family names, whether to use
mutlithreading, default base units etc.</p>
<p>To find <code class="docutils literal"><span class="pre">default_config.ini</span></code>, you can type</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">pynbody</span>

<span class="gp">In [2]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">__path__</span>
<span class="gh">Out[2]: </span><span class="go">[&#39;/Users/app/Science/pynbody/pynbody&#39;]</span>
</pre></div>
</div>
<p>to find the <cite>pynbody</cite> installation directory. The
<code class="docutils literal"><span class="pre">default_config.ini</span></code> can be found there. Most of the options are
explained in the file itself, and in order to use a different default,
you simply override the option in <code class="docutils literal"><span class="pre">.pynbodyrc</span></code>. For example, if I
want to reduce the number of CPU cores that <cite>pynbody</cite>  uses, I would put in
<code class="docutils literal"><span class="pre">.pynbodyrc</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">general</span><span class="p">]</span>

<span class="n">number_of_threads</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<p>For more information on threading, see <span class="xref std std-ref">threading</span>.</p>
<p>Some options can also be changed at runtime. You can check which ones
with</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">config</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">{&#39;centering-scheme&#39;: &#39;ssc&#39;,</span>
<span class="go"> &#39;default-cosmology&#39;: {&#39;a&#39;: 1.0,</span>
<span class="go">  &#39;h&#39;: 0.6777,</span>
<span class="go">  &#39;ns&#39;: 0.96,</span>
<span class="go">  &#39;omegaB0&#39;: 0.0482,</span>
<span class="go">  &#39;omegaL0&#39;: 0.691,</span>
<span class="go">  &#39;omegaM0&#39;: 0.309,</span>
<span class="go">  &#39;running&#39;: 0.0,</span>
<span class="go">  &#39;sigma8&#39;: 0.8288},</span>
<span class="go"> &#39;disk-fit-function&#39;: &#39;expsech&#39;,</span>
<span class="go"> &#39;gravity_calculation_mode&#39;: &#39;direct_omp&#39;,</span>
<span class="go"> &#39;halo-class-priority&#39;: [pynbody.halo.GrpCatalogue,</span>
<span class="go">  pynbody.halo.AmigaGrpCatalogue,</span>
<span class="go">  pynbody.halo.legacy.RockstarIntermediateCatalogue,</span>
<span class="go">  pynbody.halo.rockstar.RockstarCatalogue,</span>
<span class="go">  pynbody.halo.ahf.AHFCatalogue,</span>
<span class="go">  pynbody.halo.subfind.SubfindCatalogue,</span>
<span class="go">  pynbody.halo.hop.HOPCatalogue],</span>
<span class="go"> &#39;number_of_threads&#39;: 4,</span>
<span class="go"> &#39;snap-class-priority&#39;: [pynbody.snapshot.ramses.RamsesSnap,</span>
<span class="go">  pynbody.snapshot.grafic.GrafICSnap,</span>
<span class="go">  pynbody.snapshot.nchilada.NchiladaSnap,</span>
<span class="go">  pynbody.snapshot.gadget.GadgetSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.EagleLikeHDFSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.GadgetHDFSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.SubFindHDFSnap,</span>
<span class="go">  pynbody.snapshot.tipsy.TipsySnap,</span>
<span class="go">  pynbody.snapshot.ascii.AsciiSnap],</span>
<span class="go"> &#39;sph&#39;: {&#39;smooth-particles&#39;: 32, &#39;tree-leafsize&#39;: 16},</span>
<span class="go"> &#39;threading&#39;: &#39;True&#39;,</span>
<span class="go"> &#39;verbose&#39;: False}</span>
</pre></div>
</div>
<p>If you wanted to, for example, change how many particles are being
used to estimate sph kernel quantities, you could do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;sph&#39;</span><span class="p">][</span><span class="s1">&#39;smooth-particles&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">64</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.svg" alt="Logo"/>
            </a></p><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="tutorials.html">Pynbody Tutorials</a><ul>
      <li>Previous: <a href="performance.html" title="previous chapter">Performance optimisation in pynbody</a></li>
      <li>Next: <a href="threads.html" title="next chapter">Use of multiple processors by pynbody</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/tutorials/configuration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2011-18, pynbody team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="../_sources/tutorials/configuration.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>