<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Configuring pynbody &#8212; pynbody 0.45 documentation</title>
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.45',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Use of multiple processors by pynbody" href="threads.html" />
    <link rel="prev" title="Performance optimisation in pynbody" href="performance.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          pynbody</a>
        <span class="navbar-text navbar-version pull-left"><b>0.45</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Sections <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorials.html">Tutorials &amp; walkthroughs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Configuring pynbody</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="performance.html" title="Previous Chapter: Performance optimisation in pynbody"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Performance o...</span>
    </a>
  </li>
  <li>
    <a href="threads.html" title="Next Chapter: Use of multiple processors by pynbody"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Use of multip... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="configuring-pynbody">
<span id="configuration"></span><h1>Configuring pynbody<a class="headerlink" href="#configuring-pynbody" title="Permalink to this headline">Â¶</a></h1>
<p>Pynbody uses a flexible configuration system through the standard
Python <a class="reference external" href="https://docs.python.org/2/library/configparser.html">ConfigParser</a> class. The
default configuration is stored in <code class="docutils literal"><span class="pre">default_config.ini</span></code> in the
pynbody installation directory. The options can be overriden by
placing a <code class="docutils literal"><span class="pre">.pynbodyrc</span></code> file in the home directory and specifying
different values for configuration parameters. The configuration file
sets up basic things like particle family names, whether to use
mutlithreading, default base units etc.</p>
<p>To find <code class="docutils literal"><span class="pre">default_config.ini</span></code>, you can type</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">pynbody</span>

<span class="gp">In [2]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">__path__</span>
<span class="gh">Out[2]: </span><span class="go">[&#39;/Users/app/Science/pynbody/pynbody&#39;]</span>
</pre></div>
</div>
<p>to find the <cite>pynbody</cite> installation directory. The
<code class="docutils literal"><span class="pre">default_config.ini</span></code> can be found there. Most of the options are
explained in the file itself, and in order to use a different default,
you simply override the option in <code class="docutils literal"><span class="pre">.pynbodyrc</span></code>. For example, if I
want to reduce the number of CPU cores that <cite>pynbody</cite>  uses, I would put in
<code class="docutils literal"><span class="pre">.pynbodyrc</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">general</span><span class="p">]</span>

<span class="n">number_of_threads</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<p>For more information on threading, see <span class="xref std std-ref">threading</span>.</p>
<p>Some options can also be changed at runtime. You can check which ones
with</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [3]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">config</span>
<span class="gh">Out[3]: </span><span class="go"></span>
<span class="go">{&#39;centering-scheme&#39;: &#39;ssc&#39;,</span>
<span class="go"> &#39;default-cosmology&#39;: {&#39;a&#39;: 1.0,</span>
<span class="go">  &#39;h&#39;: 0.6777,</span>
<span class="go">  &#39;ns&#39;: 0.96,</span>
<span class="go">  &#39;omegaB0&#39;: 0.0482,</span>
<span class="go">  &#39;omegaL0&#39;: 0.691,</span>
<span class="go">  &#39;omegaM0&#39;: 0.309,</span>
<span class="go">  &#39;running&#39;: 0.0,</span>
<span class="go">  &#39;sigma8&#39;: 0.8288},</span>
<span class="go"> &#39;disk-fit-function&#39;: &#39;expsech&#39;,</span>
<span class="go"> &#39;gravity_calculation_mode&#39;: &#39;direct_omp&#39;,</span>
<span class="go"> &#39;halo-class-priority&#39;: [pynbody.halo.GrpCatalogue,</span>
<span class="go">  pynbody.halo.AmigaGrpCatalogue,</span>
<span class="go">  pynbody.halo.legacy.RockstarIntermediateCatalogue,</span>
<span class="go">  pynbody.halo.rockstar.RockstarCatalogue,</span>
<span class="go">  pynbody.halo.ahf.AHFCatalogue,</span>
<span class="go">  pynbody.halo.subfind.SubfindCatalogue,</span>
<span class="go">  pynbody.halo.hop.HOPCatalogue],</span>
<span class="go"> &#39;number_of_threads&#39;: 4,</span>
<span class="go"> &#39;snap-class-priority&#39;: [pynbody.snapshot.ramses.RamsesSnap,</span>
<span class="go">  pynbody.snapshot.grafic.GrafICSnap,</span>
<span class="go">  pynbody.snapshot.nchilada.NchiladaSnap,</span>
<span class="go">  pynbody.snapshot.gadget.GadgetSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.EagleLikeHDFSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.GadgetHDFSnap,</span>
<span class="go">  pynbody.snapshot.gadgethdf.SubFindHDFSnap,</span>
<span class="go">  pynbody.snapshot.tipsy.TipsySnap,</span>
<span class="go">  pynbody.snapshot.ascii.AsciiSnap],</span>
<span class="go"> &#39;sph&#39;: {&#39;smooth-particles&#39;: 32, &#39;tree-leafsize&#39;: 16},</span>
<span class="go"> &#39;threading&#39;: &#39;True&#39;,</span>
<span class="go"> &#39;verbose&#39;: False}</span>
</pre></div>
</div>
<p>If you wanted to, for example, change how many particles are being
used to estimate sph kernel quantities, you could do</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="n">pynbody</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;sph&#39;</span><span class="p">][</span><span class="s1">&#39;smooth-particles&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">64</span>
</pre></div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/tutorials/configuration.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2011-18, pynbody team.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>