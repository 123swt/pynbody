<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Plotting &mdash; pynbody 0.20-beta documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.20-beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pynbody 0.20-beta documentation" href="index.html" />
    <link rel="prev" title="Analysis" href="analysis.html" />
 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38063425-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="analysis.html" title="Analysis"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pynbody 0.20-beta documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="plotting">
<h1>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
<span class="target" id="module-pynbody.plot.gas"></span><div class="section" id="gas">
<h2>gas<a class="headerlink" href="#gas" title="Permalink to this headline">¶</a></h2>
<p>Functions for plotting gas quantities</p>
<dl class="function">
<dt id="pynbody.plot.gas.rho_T">
<tt class="descclassname">pynbody.plot.gas.</tt><tt class="descname">rho_T</tt><big>(</big><em>sim</em>, <em>rho_units=None</em>, <em>rho_range=None</em>, <em>t_range=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/gas.html#rho_T"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.gas.rho_T" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot Temperature vs. Density for the gas particles in the snapshot.</p>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><p><em>rho_units</em>: specify the density units (default is the same units as the current &#8216;rho&#8217; array)</p>
<dl class="docutils">
<dt><em>t_range</em>: list, array, or tuple </dt>
<dd><tt class="docutils literal"><span class="pre">size(t_range)</span></tt> must be 2. Specifies the temperature range.</dd>
<dt><em>rho_range:</em> tuple </dt>
<dd><tt class="docutils literal"><span class="pre">size(rho_range)</span></tt> must be 2. Specifies the density range.</dd>
</dl>
</div></blockquote>
<p>See <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">hist2d()</span></tt></a> for other plotting keyword options</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.gas.temp_profile">
<tt class="descclassname">pynbody.plot.gas.</tt><tt class="descname">temp_profile</tt><big>(</big><em>sim</em>, <em>center=True</em>, <em>r_units='kpc'</em>, <em>bin_spacing='equaln'</em>, <em>clear=True</em>, <em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/gas.html#temp_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.gas.temp_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then plot the temperature profile as a 
function of radius.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.generic"></span><div class="section" id="generic">
<h2>generic<a class="headerlink" href="#generic" title="Permalink to this headline">¶</a></h2>
<p>Flexible and general plotting functions</p>
<dl class="function">
<dt id="pynbody.plot.generic.hist2d">
<tt class="descclassname">pynbody.plot.generic.</tt><tt class="descname">hist2d</tt><big>(</big><em>xo</em>, <em>yo</em>, <em>weights=None</em>, <em>mass=None</em>, <em>gridsize=(100</em>, <em>100)</em>, <em>nbins=None</em>, <em>make_plot=True</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/generic.html#hist2d"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.hist2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot 2D histogram for arbitrary arrays that get passed in.</p>
<p><strong>Input:</strong></p>
<blockquote>
<div><p><em>x</em>: array</p>
<p><em>y</em>: array</p>
</div></blockquote>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt><em>x_range</em>: list, array, or tuple</dt>
<dd>size(x_range) must be 2. Specifies the X range.</dd>
<dt><em>y_range</em>: tuple</dt>
<dd>size(y_range) must be 2. Specifies the Y range.</dd>
<dt><em>gridsize</em>: (int, int) (default (100,100)) </dt>
<dd>number of bins to use for the 2D histogram</dd>
<dt><em>nbins</em>: int</dt>
<dd>number of bins for the histogram - if specified, gridsize is set to (nbins,nbins)</dd>
<dt><em>nlevels</em>: int</dt>
<dd>number of levels to use for the contours</dd>
<dt><em>logscale</em>: boolean</dt>
<dd>whether to use log or linear spaced contours</dd>
<dt><em>weights</em>: numpy array of same length as x and y</dt>
<dd>if weights is passed, color corresponds to
the mean value of weights in each cell</dd>
<dt><em>mass</em>: numpy array of masses same length as x andy</dt>
<dd>must also have weights passed in.  If you just
want to weight by mass, pass the masses to weights</dd>
<dt><em>colorbar</em>: boolean</dt>
<dd>draw a colorbar</dd>
<dt><em>scalemin</em>: float</dt>
<dd>minimum value to use for the color scale</dd>
<dt><em>scalemax</em>: float</dt>
<dd>maximum value to use for the color scale</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.generic.gauss_kde">
<tt class="descclassname">pynbody.plot.generic.</tt><tt class="descname">gauss_kde</tt><big>(</big><em>xo</em>, <em>yo</em>, <em>weights=None</em>, <em>mass=None</em>, <em>gridsize=(100</em>, <em>100)</em>, <em>nbins=None</em>, <em>make_plot=True</em>, <em>nmin=None</em>, <em>nmax=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/generic.html#gauss_kde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.gauss_kde" title="Permalink to this definition">¶</a></dt>
<dd><blockquote>
<div><p>Plot 2D gaussian kernel density estimate (KDE) given values at points (<em>x</em>, <em>y</em>).</p>
<p>Behavior changes depending on which keywords are passed:</p>
<p>If a <em>weights</em> array is supplied, produce a weighted KDE.</p>
<p>If a <em>mass</em> array is supplied, a mass density is computed.</p>
<p>If both <em>weights</em> and <em>mass</em> are supplied, a mass-averaged KDE of the weights is 
computed.</p>
<p>By default, norm=False is passed to <a class="reference internal" href="#pynbody.plot.util.fast_kde" title="pynbody.plot.util.fast_kde"><tt class="xref py py-func docutils literal"><span class="pre">fast_kde()</span></tt></a> meaning
that the result returned <em>is not</em> normalized such that the integral over the area
equals one.</p>
</div></blockquote>
<dl class="docutils">
<dt>Since this function produces a density estimate, the units of the</dt>
<dd><p class="first">output grid are different than for the output of
<a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">hist2d()</span></tt></a>. To get to the same units,
you must multiply by the size of the cells.</p>
<p><strong>Input:</strong></p>
<blockquote>
<div><p><em>xo</em>: array</p>
<p><em>yo</em>: array</p>
</div></blockquote>
<p><strong>Optional keywords:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt><em>mass</em>: numpy array of same length as x and y </dt>
<dd>particle masses to be used for weighting</dd>
<dt><em>weights</em>: numpy array of same length as x and y</dt>
<dd>if weights is passed, color corresponds to
the mean value of weights in each cell</dd>
<dt><em>nmin</em>: float (default None)</dt>
<dd>if <em>weights</em> and <em>mass</em> are both specified, the mass-weighted
contours are only drawn where the mass exceeds <em>nmin</em>.</dd>
<dt><em>gridsize</em>: (int, int) (default: 100,100)</dt>
<dd>size of grid for computing the density estimate</dd>
<dt><em>nbins</em>: int</dt>
<dd>number of bins for the histogram - if specified, gridsize is set to (nbins,nbins)</dd>
<dt><em>make_plot</em>: boolean (default: True)</dt>
<dd>whether or not to produce a plot</dd>
</dl>
</div></blockquote>
<p><strong>Keywords passed to</strong> <a class="reference internal" href="#pynbody.plot.util.fast_kde" title="pynbody.plot.util.fast_kde"><tt class="xref py py-func docutils literal"><span class="pre">fast_kde()</span></tt></a>:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>norm</em>: boolean (default: False) </dt>
<dd>If False, the output is only corrected for the kernel. If True,
the result is normalized such that the integral over the area 
yields 1.</dd>
<dt><em>nocorrelation</em>: (default: False) If True, the correlation</dt>
<dd>between the x and y coords will be ignored when preforming
the KDE.</dd>
</dl>
</div></blockquote>
<p><strong>Keywords passed to</strong> <a class="reference internal" href="#pynbody.plot.generic.make_contour_plot" title="pynbody.plot.generic.make_contour_plot"><tt class="xref py py-func docutils literal"><span class="pre">make_contour_plot()</span></tt></a>:</p>
<blockquote class="last">
<div><dl class="docutils">
<dt><em>x_range</em>: list, array, or tuple</dt>
<dd>size(x_range) must be 2. Specifies the X range.</dd>
<dt><em>y_range</em>: tuple</dt>
<dd>size(y_range) must be 2. Specifies the Y range.</dd>
<dt><em>nlevels</em>: int</dt>
<dd>number of levels to use for the contours</dd>
<dt><em>logscale</em>: boolean</dt>
<dd>whether to use log or linear spaced contours</dd>
<dt><em>colorbar</em>: boolean</dt>
<dd>draw a colorbar</dd>
<dt><em>scalemin</em>: float</dt>
<dd>minimum value to use for the color scale</dd>
<dt><em>scalemax</em>: float</dt>
<dd>maximum value to use for the color scale</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.generic.make_contour_plot">
<tt class="descclassname">pynbody.plot.generic.</tt><tt class="descname">make_contour_plot</tt><big>(</big><em>arr</em>, <em>xs</em>, <em>ys</em>, <em>x_range=None</em>, <em>y_range=None</em>, <em>nlevels=20</em>, <em>logscale=True</em>, <em>xlogrange=False</em>, <em>ylogrange=False</em>, <em>subplot=False</em>, <em>colorbar=False</em>, <em>ret_im=False</em>, <em>cmap=None</em>, <em>clear=True</em>, <em>legend=False</em>, <em>scalemin=None</em>, <em>scalemax=None</em>, <em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/generic.html#make_contour_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.make_contour_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a contour plot of grid <em>arr</em> corresponding to bin centers
specified by <em>xs</em> and <em>ys</em>.  Labels the axes and colobar with
proper units taken from x</p>
<p>Called by <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">hist2d()</span></tt></a> and
<tt class="xref py py-func docutils literal"><span class="pre">gauss_density()</span></tt>.</p>
<p><strong>Input</strong>:</p>
<blockquote>
<div><p><em>arr</em>: 2D array to plot</p>
<p><em>xs</em>: x-coordinates of bins</p>
<p><em>ys</em>: y-coordinates of bins</p>
</div></blockquote>
<p><strong>Optional Keywords</strong>:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>x_range</em>: list, array, or tuple (default = None)</dt>
<dd>size(x_range) must be 2. Specifies the X range.</dd>
<dt><em>y_range</em>: tuple (default = None)</dt>
<dd>size(y_range) must be 2. Specifies the Y range.</dd>
<dt><em>xlogrange</em>: boolean (default = False)</dt>
<dd>whether the x-axis should have a log scale</dd>
<dt><em>ylogrange</em>: boolean (default = False)</dt>
<dd>whether the y-axis should have a log scale</dd>
<dt><em>nlevels</em>: int (default = 20)</dt>
<dd>number of levels to use for the contours</dd>
<dt><em>logscale</em>: boolean (default = True)</dt>
<dd>whether to use log or linear spaced contours</dd>
<dt><em>colorbar</em>: boolean (default = False)</dt>
<dd>draw a colorbar</dd>
<dt><em>scalemin</em>: float (default = arr.min())</dt>
<dd>minimum value to use for the color scale</dd>
<dt><em>scalemax</em>: float (default = arr.max())</dt>
<dd>maximum value to use for the color scale</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.generic.fourier_map">
<tt class="descclassname">pynbody.plot.generic.</tt><tt class="descname">fourier_map</tt><big>(</big><em>sim, nbins=100, nmin=1000, nphi=100, mmin=1, mmax=7, rmax=10, levels=[0.01, 0.05, 0.1, 0.2], subplot=None, ret=False, **kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/generic.html#fourier_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.fourier_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot an overdensity map generated from a Fourier expansion of the
particle distribution. A <a class="reference internal" href="analysis.html#pynbody.analysis.profile.Profile" title="pynbody.analysis.profile.Profile"><tt class="xref py py-func docutils literal"><span class="pre">Profile()</span></tt></a>
is made and passed to <a class="reference internal" href="#pynbody.plot.util.inv_fourier" title="pynbody.plot.util.inv_fourier"><tt class="xref py py-func docutils literal"><span class="pre">inv_fourier()</span></tt></a> to
obtain an overdensity map. The map is plotted using the usual
matplotlib.contour.</p>
<p><strong>Input</strong>:</p>
<p><em>sim</em> :  a <a class="reference internal" href="essentials.html#pynbody.snapshot.SimSnap" title="pynbody.snapshot.SimSnap"><tt class="xref py py-func docutils literal"><span class="pre">SimSnap()</span></tt></a> object</p>
<p><strong>Optional Keywords</strong>:</p>
<p><em>nbins</em> (100) : number of radial bins to use for the profile</p>
<p><em>nmin</em> (1000) : minimum number of particles required per bin</p>
<p><em>nphi</em> (100)  : number of azimuthal bins to use for the map</p>
<p><em>mmin</em> (1)    : lowest multiplicity Fourier component</p>
<p><em>mmax</em> (7)    : highest multiplicity Fourier component</p>
<p><em>rmax</em> (10)   : maximum radius to use when generating the profile</p>
<p><em>levels</em> [0.01,0.05,0.1,0.2] : tuple of levels for plotting contours</p>
<p><em>subplot</em> (None) : Axes object on which to plot the contours</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.generic.prob_plot">
<tt class="descclassname">pynbody.plot.generic.</tt><tt class="descname">prob_plot</tt><big>(</big><em>x</em>, <em>y</em>, <em>weight</em>, <em>nbins=(100</em>, <em>100)</em>, <em>extent=None</em>, <em>axes=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/generic.html#prob_plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.generic.prob_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a plot of the probability of y given x, i.e. p(y|x). The
values are normalized such that the integral along each column is
one.</p>
<p><strong>Input</strong>:</p>
<p><em>x</em>: primary binning axis</p>
<p><em>y</em>: secondary binning axis</p>
<p><em>weight</em>: weights array</p>
<p><em>nbins</em>: tuple of length 2 specifying the number of bins in each direction</p>
<dl class="docutils">
<dt><em>extent</em>: tuple of length 4 speciphysical extent of the axes</dt>
<dd>(xmin,xmax,ymin,ymax)</dd>
</dl>
<p><strong>Optional Keywords</strong>:</p>
<p>all optional keywords are passed on to the imshow() command</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.metals"></span><div class="section" id="metals">
<h2>metals<a class="headerlink" href="#metals" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pynbody.plot.metals.mdf">
<tt class="descclassname">pynbody.plot.metals.</tt><tt class="descname">mdf</tt><big>(</big><em>sim, filename=None, clear=True, range=[-5, 0.3], axes=False, **kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/metals.html#mdf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.metals.mdf" title="Permalink to this definition">¶</a></dt>
<dd><p>Metallicity Distribution Function</p>
<p>Plots a metallicity distribution function to the best of
matplotlib&#8217;s abilities.  Unfortunately, the &#8220;normed&#8221; keyword is
buggy and does not return a PDF.  The &#8220;density&#8221; keyword should,
but it not yet supported in many versions of numpy.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">mdf</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.metals.ofefeh">
<tt class="descclassname">pynbody.plot.metals.</tt><tt class="descname">ofefeh</tt><big>(</big><em>sim</em>, <em>fxn=&lt;function gauss_kde at 0x10bd69b18&gt;</em>, <em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/metals.html#ofefeh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.metals.ofefeh" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">hist2d()</span></tt></a> to make a [O/Fe] vs. [Fe/H] plot</p>
<p><strong>Input:</strong></p>
<p><em>sim</em>: snapshot to pull data from</p>
<p><strong>Optional Keywords:</strong></p>
<dl class="docutils">
<dt><em>fxn</em>: a function with the same signature as functions</dt>
<dd><a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">hist2d()</span></tt></a> and
<a class="reference internal" href="#pynbody.plot.generic.gauss_kde" title="pynbody.plot.generic.gauss_kde"><tt class="xref py py-func docutils literal"><span class="pre">gauss_kde()</span></tt></a> in
<a class="reference internal" href="#module-pynbody.plot.generic" title="pynbody.plot.generic"><tt class="xref py py-mod docutils literal"><span class="pre">pynbody.plot.generic</span></tt></a> default:
<a class="reference internal" href="#pynbody.plot.generic.hist2d" title="pynbody.plot.generic.hist2d"><tt class="xref py py-func docutils literal"><span class="pre">pynbody.plot.generic.hist2d()</span></tt></a></dd>
</dl>
<p>see <a class="reference internal" href="#pynbody.plot.generic.make_contour_plot" title="pynbody.plot.generic.make_contour_plot"><tt class="xref py py-func docutils literal"><span class="pre">make_contour_plot()</span></tt></a> for other
plot-related keywords.</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.profile"></span><div class="section" id="profile">
<h2>profile<a class="headerlink" href="#profile" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pynbody.plot.profile.rotation_curve">
<tt class="descclassname">pynbody.plot.profile.</tt><tt class="descname">rotation_curve</tt><big>(</big><em>sim</em>, <em>center=True</em>, <em>r_units='kpc'</em>, <em>v_units='km s^-1'</em>, <em>disk_height='100 pc'</em>, <em>nbins=50</em>, <em>bin_spacing='equaln'</em>, <em>clear=True</em>, <em>quick=False</em>, <em>filename=None</em>, <em>min=False</em>, <em>max=False</em>, <em>yrange=False</em>, <em>legend=False</em>, <em>parts=False</em>, <em>axes=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/profile.html#rotation_curve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.rotation_curve" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then use the potential in that plane to generate and
plot a rotation curve.</p>
<p><strong>needs documentation/description of the keyword arguments</strong></p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.profile.fourier_profile">
<tt class="descclassname">pynbody.plot.profile.</tt><tt class="descname">fourier_profile</tt><big>(</big><em>sim</em>, <em>center=True</em>, <em>disk_height='2 kpc'</em>, <em>nbins=50</em>, <em>pretime='2 Gyr'</em>, <em>r_units='kpc'</em>, <em>bin_spacing='equaln'</em>, <em>clear=True</em>, <em>min=False</em>, <em>max=False</em>, <em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/profile.html#fourier_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.fourier_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Centre on potential minimum, align so that the disk is in the
x-y plane, then plot the amplitude of the 2nd fourier mode as a 
function of radius.</p>
<p><strong>needs description of the keyword arguments</strong></p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.profile.density_profile">
<tt class="descclassname">pynbody.plot.profile.</tt><tt class="descname">density_profile</tt><big>(</big><em>sim</em>, <em>linestyle=False</em>, <em>center=True</em>, <em>clear=True</em>, <em>filename=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/profile.html#density_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.profile.density_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>3d density profile</p>
<p><strong>Options:</strong></p>
<p><em>filename</em> (None):  name of file to which to save output</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">density_profile</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.sph"></span><div class="section" id="sph">
<h2>sph<a class="headerlink" href="#sph" title="Permalink to this headline">¶</a></h2>
<p>routines for plotting smoothed quantities</p>
<dl class="function">
<dt id="pynbody.plot.sph.sideon_image">
<tt class="descclassname">pynbody.plot.sph.</tt><tt class="descname">sideon_image</tt><big>(</big><em>sim</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/sph.html#sideon_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.sideon_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the simulation so that the disc of the passed halo is
side-on, then make an SPH image by passing the parameters into
the function image</p>
<p>For a description of keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><tt class="xref py py-func docutils literal"><span class="pre">image()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.sph.faceon_image">
<tt class="descclassname">pynbody.plot.sph.</tt><tt class="descname">faceon_image</tt><big>(</big><em>sim</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/sph.html#faceon_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.faceon_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Rotate the simulation so that the disc of the passed halo is
face-on, then make an SPH image by passing the parameters into
the function image</p>
<p>For a description of keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><tt class="xref py py-func docutils literal"><span class="pre">image()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.sph.velocity_image">
<tt class="descclassname">pynbody.plot.sph.</tt><tt class="descname">velocity_image</tt><big>(</big><em>sim</em>, <em>width='10 kpc'</em>, <em>vector_color='black'</em>, <em>edgecolor='black'</em>, <em>vector_resolution=40</em>, <em>scale=None</em>, <em>mode='quiver'</em>, <em>key_x=0.3</em>, <em>key_y=0.9</em>, <em>key_color='white'</em>, <em>key_length='100 km s**-1'</em>, <em>density=1.0</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/sph.html#velocity_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.velocity_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an SPH image of the given simulation with velocity vectors overlaid on top.</p>
<p>For a description of additional keyword arguments see <a class="reference internal" href="#pynbody.plot.sph.image" title="pynbody.plot.sph.image"><tt class="xref py py-func docutils literal"><span class="pre">image()</span></tt></a>, 
or see the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/pictures.html#velocity-vectors">tutorial</a>.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>vector_color</em> (black): The color for the velocity vectors</p>
<dl class="docutils">
<dt><em>edgecolor</em> (black): edge color used for the lines - using a color</dt>
<dd>other than black for the <em>vector_color</em> and a black <em>edgecolor</em>
can result in poor readability in pdfs</dd>
</dl>
<p><em>vector_resolution</em> (40): How many vectors in each dimension (default is 40x40)</p>
<p><em>scale</em> (None): The length of a vector that would result in a displayed length of the
figure width/height.</p>
<p><em>mode</em> (&#8216;quiver&#8217;): make a &#8216;quiver&#8217; or &#8216;stream&#8217; plot</p>
<p><em>key_x</em> (0.3): Display x (width) position for the vector key (quiver mode only)</p>
<p><em>key_y</em> (0.9): Display y (height) position for the vector key (quiver mode only)</p>
<p><em>key_color</em> (white): Color for the vector key (quiver mode only)</p>
<p><em>key_length</em> (100 km/s): Velocity to use for the vector key (quiver mode only)</p>
<p><em>density</em> (1.0): Density of stream lines (stream mode only)</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.sph.image">
<tt class="descclassname">pynbody.plot.sph.</tt><tt class="descname">image</tt><big>(</big><em>sim</em>, <em>qty='rho'</em>, <em>width='10 kpc'</em>, <em>resolution=500</em>, <em>units=None</em>, <em>log=True</em>, <em>vmin=None</em>, <em>vmax=None</em>, <em>av_z=False</em>, <em>filename=None</em>, <em>z_camera=None</em>, <em>clear=True</em>, <em>cmap=None</em>, <em>center=False</em>, <em>title=None</em>, <em>qtytitle=None</em>, <em>show_cbar=True</em>, <em>subplot=False</em>, <em>noplot=False</em>, <em>ret_im=False</em>, <em>fill_nan=True</em>, <em>fill_val=0.0</em>, <em>linthresh=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/sph.html#image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.sph.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an SPH image of the given simulation. See the <a class="reference external" href="http://pynbody.github.io/pynbody/tutorials/pictures.html#pictures-in-pynbody">&#8220;Pictures in Pynbody&#8221; tutorial</a> for examples.</p>
<p><strong>Keyword arguments:</strong></p>
<p><em>qty</em> (rho): The name of the array to interpolate</p>
<dl class="docutils">
<dt><em>width</em> (10 kpc): The overall width and height of the plot. If</dt>
<dd><tt class="docutils literal"><span class="pre">width</span></tt> is a float or an int, then it is assumed to be in units
of <tt class="docutils literal"><span class="pre">sim['pos']</span></tt>. It can also be passed in as a string
indicating the units, i.e. &#8216;10 kpc&#8217;, in which case it is
converted to units of <tt class="docutils literal"><span class="pre">sim['pos']</span></tt>.</dd>
</dl>
<p><em>resolution</em> (500): The number of pixels wide and tall</p>
<p><em>units</em> (None): The units of the output</p>
<dl class="docutils">
<dt><em>av_z</em> (False): If True, the requested quantity is averaged down</dt>
<dd>the line of sight (default False: image is generated in
the thin plane z=0, unless output units imply an integral
down the line of sight). If a string, the requested quantity
is averaged down the line of sight weighted by the av_z
array (e.g. use &#8216;rho&#8217; for density-weighted quantity;
the default results when av_z=True are volume-weighted).</dd>
<dt><em>z_camera</em> (None): If set, a perspective image is rendered. See</dt>
<dd><tt class="xref py py-func docutils literal"><span class="pre">pynbody.sph.image()</span></tt> for more details.</dd>
</dl>
<p><em>filename</em> (None): if set, the image will be saved in a file</p>
<p><em>clear</em> (True): whether to call clf() on the axes first</p>
<p><em>cmap</em> (None): user-supplied colormap instance</p>
<p><em>title</em> (None): plot title</p>
<p><em>qtytitle</em> (None): colorbar quantity title</p>
<p><em>show_cbar</em> (True): whether to plot the colorbar</p>
<p><em>subplot</em> (False): the user can supply a AxesSubPlot instance on
which the image will be shown</p>
<p><em>noplot</em> (False): do not display the image, just return the image array</p>
<p><em>ret_im</em> (False): return the image instance returned by imshow</p>
<p><em>num_threads</em> (None) : if set, specify the number of threads for 
the multi-threaded routines; otherwise the pynbody.config default is used</p>
<p><em>fill_nan</em> (True): if any of the image values are NaN, replace with fill_val</p>
<p><em>fill_val</em> (0.0): the fill value to use when replacing NaNs</p>
<dl class="docutils">
<dt><em>linthresh</em> (None): if the image has negative and positive values</dt>
<dd>and a log scaling is requested, the part between <cite>-linthresh</cite> and
<cite>linthresh</cite> is shown on a linear scale to avoid divergence at 0</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.stars"></span><div class="section" id="stars">
<h2>stars<a class="headerlink" href="#stars" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pynbody.plot.stars.render">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">render</tt><big>(</big><em>sim</em>, <em>filename=None</em>, <em>r_band='i'</em>, <em>g_band='v'</em>, <em>b_band='u'</em>, <em>r_scale=0.5</em>, <em>g_scale=1.0</em>, <em>b_scale=1.0</em>, <em>dynamic_range=2.0</em>, <em>width=50</em>, <em>starsize=None</em>, <em>plot=True</em>, <em>axes=None</em>, <em>ret_im=False</em>, <em>clear=True</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a 3-color image of stars.</p>
<p>The colors are based on magnitudes found using stellar Marigo
stellar population code.  However there is no radiative transfer
to account for dust.</p>
<p>Returns: If ret_im=True, an NxNx3 array representing an RGB image</p>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt><em>filename</em>: string (default: None)</dt>
<dd>Filename to be written to (if a filename is specified)</dd>
<dt><em>r_band</em>: string (default: &#8216;i&#8217;)</dt>
<dd>Determines which Johnston filter will go into the image red channel</dd>
<dt><em>g_band</em>: string (default: &#8216;v&#8217;)</dt>
<dd>Determines which Johnston filter will go into the image green channel</dd>
<dt><em>b_band</em>: string (default: &#8216;b&#8217;)</dt>
<dd>Determines which Johnston filter will go into the image blue channel</dd>
<dt><em>r_scale</em>: float (default: 0.5)</dt>
<dd>The scaling of the red channel before channels are combined</dd>
<dt><em>g_scale</em>: float (default: 1.0)</dt>
<dd>The scaling of the green channel before channels are combined</dd>
<dt><em>b_scale</em>: float (default: 1.0)</dt>
<dd>The scaling of the blue channel before channels are combined</dd>
<dt><em>width</em>: float in kpc (default:50)</dt>
<dd>Sets the size of the image field in kpc</dd>
<dt><em>starsize</em>: float in kpc (default: None)</dt>
<dd>If not None, sets the maximum size of stars in the image</dd>
<dt><em>ret_im</em>: bool (default: False)</dt>
<dd>if True, the NxNx3 image array is returned</dd>
<dt><em>plot</em>: bool (default: True)</dt>
<dd>if True, the image is plotted</dd>
<dt><em>axes</em>: matplotlib axes object (deault: None)</dt>
<dd>if not None, the axes object to plot to</dd>
<dt><em>dynamic_range</em>: float (default: 2.0)</dt>
<dd>The number of dex in luminosity over which the image brightness ranges</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.sfh">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">sfh</tt><big>(</big><em>sim</em>, <em>filename=None</em>, <em>massform=True</em>, <em>clear=False</em>, <em>legend=False</em>, <em>subplot=False</em>, <em>trange=False</em>, <em>bins=100</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#sfh"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.sfh" title="Permalink to this definition">¶</a></dt>
<dd><p>star formation history</p>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt><em>trange</em>: list, array, or tuple</dt>
<dd>size(t_range) must be 2. Specifies the time range.</dd>
<dt><em>bins</em>: int</dt>
<dd>number of bins to use for the SFH</dd>
<dt><em>massform</em>: bool</dt>
<dd>decides whether to use original star mass (massform) or final star mass</dd>
<dt><em>subplot</em>: subplot object</dt>
<dd>where to plot SFH</dd>
<dt><em>legend</em>: boolean</dt>
<dd>whether to draw a legend or not</dd>
<dt><em>clear</em>: boolean</dt>
<dd>if False (default), plot on the current axes. Otherwise, clear the figure first.</dd>
</dl>
</div></blockquote>
<p>By default, sfh will use the formation mass of the star.  In tipsy, this will be
taken from the starlog file.  Set massform=False if you want the final (observed)
star formation history</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">sfh</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.schmidtlaw">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">schmidtlaw</tt><big>(</big><em>sim</em>, <em>center=True</em>, <em>filename=None</em>, <em>pretime='50 Myr'</em>, <em>diskheight='3 kpc'</em>, <em>rmax='20 kpc'</em>, <em>compare=True</em>, <em>radial=True</em>, <em>clear=True</em>, <em>legend=True</em>, <em>bins=10</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#schmidtlaw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.schmidtlaw" title="Permalink to this definition">¶</a></dt>
<dd><p>Schmidt Law</p>
<p>Plots star formation surface density vs. gas surface density including
the observed relationships.  Currently, only plots densities found in
radial annuli.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">schmidtlaw</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p><strong>Optional keyword arguments:</strong></p>
<blockquote>
<div><dl class="docutils">
<dt><em>center</em>: bool</dt>
<dd>center and align the input simulation faceon.</dd>
<dt><em>filename</em>: string</dt>
<dd>Name of output file</dd>
</dl>
<p><em>pretime</em> (default=&#8216;50 Myr&#8217;): age of stars to consider for SFR</p>
<dl class="docutils">
<dt><em>diskheight</em> (default=&#8216;3 kpc&#8217;): height of gas and stars above</dt>
<dd>and below disk considered for SF and gas densities.</dd>
</dl>
<p><em>rmax</em> (default=&#8216;20 kpc&#8217;): radius of disk considered</p>
<dl class="docutils">
<dt><em>compare</em> (default=True):  whether to include Kennicutt (1998) and</dt>
<dd>Bigiel+ (2008) for comparison</dd>
</dl>
<p><em>radial</em> (default=True):  should bins be annuli or a rectangular grid?</p>
<p><em>bins</em> (default=10):  How many radial bins should there be?</p>
<dl class="docutils">
<dt><em>legend</em>: boolean</dt>
<dd>whether to draw a legend or not</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.oneschmidtlawpoint">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">oneschmidtlawpoint</tt><big>(</big><em>sim</em>, <em>center=True</em>, <em>pretime='50 Myr'</em>, <em>diskheight='3 kpc'</em>, <em>rmax='20 kpc'</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#oneschmidtlawpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.oneschmidtlawpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>One Schmidt Law Point</p>
<p>Determines values for star formation surface density and gas surface 
density for the entire galaxy based on the half mass cold gas radius.</p>
<p><strong>Usage:</strong>
import pynbody.plot as pp
pp.oneschmidtlawpoint(h[1])</p>
<blockquote>
<div><p><em>pretime</em> (default=&#8216;50 Myr&#8217;): age of stars to consider for SFR</p>
<dl class="docutils">
<dt><em>diskheight</em> (default=&#8216;3 kpc&#8217;): height of gas and stars above</dt>
<dd>and below disk considered for SF and gas densities.</dd>
</dl>
<p><em>rmax</em> (default=&#8216;20 kpc&#8217;): radius of disk considered</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.satlf">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">satlf</tt><big>(</big><em>sim</em>, <em>band='v'</em>, <em>filename=None</em>, <em>MWcompare=True</em>, <em>Trentham=True</em>, <em>clear=True</em>, <em>legend=True</em>, <em>label='Simulation'</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#satlf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.satlf" title="Permalink to this definition">¶</a></dt>
<dd><p>satellite luminosity function</p>
<p><strong>Options:</strong></p>
<p><em>band</em> (&#8216;v&#8217;): which Johnson band to use. available filters: U, B,
V, R, I, J, H, K</p>
<p><em>filename</em> (None): name of file to which to save output</p>
<p><em>MWcompare</em> (True): whether to plot comparison lines to MW</p>
<dl class="docutils">
<dt><em>Trentham</em> (True): whether to plot comparison lines to Trentham +</dt>
<dd>Tully (2009) combined with Koposov et al (2007)</dd>
</dl>
<p>By default, satlf will use the formation mass of the star.  In
tipsy, this will be taken from the starlog file.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">satlf</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.sbprofile">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">sbprofile</tt><big>(</big><em>sim</em>, <em>band='v'</em>, <em>diskheight='3 kpc'</em>, <em>rmax='20 kpc'</em>, <em>binning='equaln'</em>, <em>center=True</em>, <em>clear=True</em>, <em>filename=None</em>, <em>axes=False</em>, <em>fit_exp=False</em>, <em>print_ylabel=True</em>, <em>fit_sersic=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#sbprofile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.sbprofile" title="Permalink to this definition">¶</a></dt>
<dd><p>surface brightness profile</p>
<p><strong>Usage:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">sbprofile</span><span class="p">(</span><span class="n">h</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">exp_fit</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Options:</strong></p>
<dl class="docutils">
<dt><em>band</em> (&#8216;v&#8217;): which Johnson band to use. available filters: U, B,</dt>
<dd>V, R, I, J, H, K</dd>
</dl>
<p><a href="#id1"><span class="problematic" id="id2">*</span></a>fit_exp*(False): Fits straight exponential line outside radius specified.</p>
<p><a href="#id3"><span class="problematic" id="id4">*</span></a>fit_sersic*(False): Fits Sersic profile outside radius specified.</p>
<p><em>diskheight(&#8216;3 kpc&#8217;)</em>
<em>rmax(&#8216;20 kpc&#8217;)</em>:  Size of disk to be profiled</p>
<dl class="docutils">
<dt><em>binning(&#8216;equaln&#8217;)</em>:  How show bin sizes be determined? based on </dt>
<dd>pynbody.analysis.profile</dd>
</dl>
<p><em>center(True)</em>:  Automatically align face on and center?</p>
<p><em>axes(False)</em>: In which axes (subplot) should it be plotted?</p>
<p><em>filename</em> (None): name of file to which to save output</p>
<p><strong>needs a description of all keywords</strong></p>
<p>By default, sbprof will use the formation mass of the star.  
In tipsy, this will be taken from the starlog file.</p>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.moster">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">moster</tt><big>(</big><em>xmasses</em>, <em>z</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#moster"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.moster" title="Permalink to this definition">¶</a></dt>
<dd><p>Based on Moster+ (2013) return what stellar mass corresponds to the
halo mass passed in.</p>
<p><strong>Usage</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pynbody.plot.stars</span> <span class="kn">import</span> <span class="n">moster</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xmasses</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">logspace</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">1</span><span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="n">totmasshalos</span><span class="p">)),</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ystarmasses</span><span class="p">,</span> <span class="n">errors</span> <span class="o">=</span> <span class="n">moster</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">halo_catalog</span><span class="o">.</span><span class="n">_halos</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">properties</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">xmasses</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ystarmasses</span><span class="p">)</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">errors</span><span class="p">),</span>
<span class="go">                  y2=np.array(ystarmasses)*np.array(errors),</span>
<span class="go">                  facecolor=&#39;#BBBBBB&#39;,color=&#39;#BBBBBB&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.stars.guo">
<tt class="descclassname">pynbody.plot.stars.</tt><tt class="descname">guo</tt><big>(</big><em>halo_catalog</em>, <em>clear=False</em>, <em>compare=True</em>, <em>baryfrac=False</em>, <em>filename=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/stars.html#guo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.stars.guo" title="Permalink to this definition">¶</a></dt>
<dd><p>Stellar Mass vs. Halo Mass</p>
<p>Takes a halo catalogue and plots the member stellar masses as a
function of halo mass.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pynbody.plot</span> <span class="kn">as</span> <span class="nn">pp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">h</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">halos</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">guo</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s">&#39;+&#39;</span><span class="p">,</span><span class="n">markerfacecolor</span><span class="o">=</span><span class="s">&#39;k&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Options:</strong></p>
<dl class="docutils">
<dt><em>compare</em> (True): Should comparison line be plotted?</dt>
<dd>If compare = &#8216;guo&#8217;, Guo+ (2010) plotted instead of Moster+ (2012)</dd>
</dl>
<p><em>baryfrac</em> (False):  Should line be drawn for cosmic baryon fraction?</p>
<p><em>filename</em> (None): name of file to which to save output</p>
</dd></dl>

</div>
<span class="target" id="module-pynbody.plot.util"></span><div class="section" id="util">
<h2>util<a class="headerlink" href="#util" title="Permalink to this headline">¶</a></h2>
<p>Utility functions for the plotting module</p>
<dl class="function">
<dt id="pynbody.plot.util.fast_kde">
<tt class="descclassname">pynbody.plot.util.</tt><tt class="descname">fast_kde</tt><big>(</big><em>x</em>, <em>y</em>, <em>kern_nx=None</em>, <em>kern_ny=None</em>, <em>gridsize=(100</em>, <em>100)</em>, <em>extents=None</em>, <em>nocorrelation=False</em>, <em>weights=None</em>, <em>norm=False</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/util.html#fast_kde"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.util.fast_kde" title="Permalink to this definition">¶</a></dt>
<dd><p>A faster gaussian kernel density estimate (KDE).  Intended for
computing the KDE on a regular grid (different use case than
scipy&#8217;s original scipy.stats.kde.gaussian_kde()).</p>
<p>Author: Joe Kington
License:  MIT License &lt;<a class="reference external" href="http://www.opensource.org/licenses/mit-license.php">http://www.opensource.org/licenses/mit-license.php</a>&gt;</p>
<p>Performs a gaussian kernel density estimate over a regular grid using a
convolution of the gaussian kernel with a 2D histogram of the data.</p>
<p>This function is typically several orders of magnitude faster than 
scipy.stats.kde.gaussian_kde for large (&gt;1e7) numbers of points and 
produces an essentially identical result.</p>
<p><strong>Input</strong>:</p>
<blockquote>
<div><dl class="docutils">
<dt><em>x</em>: array</dt>
<dd>The x-coords of the input data points</dd>
<dt><em>y</em>: array</dt>
<dd>The y-coords of the input data points</dd>
<dt><em>kern_nx</em>: float </dt>
<dd>size (in units of <em>x</em>) of the kernel</dd>
<dt><em>kern_ny</em>: float</dt>
<dd>size (in units of <em>y</em>) of the kernel</dd>
<dt><em>gridsize</em>: (Nx , Ny) tuple (default: 200x200) </dt>
<dd>Size of the output grid</dd>
<dt><em>extents</em>: (default: extent of input data) A (xmin, xmax, ymin, ymax)</dt>
<dd>tuple of the extents of output grid</dd>
<dt><em>nocorrelation</em>: (default: False) If True, the correlation between the</dt>
<dd>x and y coords will be ignored when preforming the KDE.</dd>
<dt><em>weights</em>: (default: None) An array of the same shape as x &amp; y that </dt>
<dd>weighs each sample (x_i, y_i) by each value in weights (w_i).
Defaults to an array of ones the same size as x &amp; y.</dd>
<dt><em>norm</em>: boolean (default: False) </dt>
<dd>If False, the output is only corrected for the kernel. If True,
the result is normalized such that the integral over the area 
yields 1.</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt><strong>Output</strong>:</dt>
<dd>A gridded 2D kernel density estimate of the input points.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="pynbody.plot.util.inv_fourier">
<tt class="descclassname">pynbody.plot.util.</tt><tt class="descname">inv_fourier</tt><big>(</big><em>p</em>, <em>nmin=1000</em>, <em>mmin=1</em>, <em>mmax=7</em>, <em>nphi=100</em><big>)</big><a class="reference internal" href="_modules/pynbody/plot/util.html#inv_fourier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pynbody.plot.util.inv_fourier" title="Permalink to this definition">¶</a></dt>
<dd><p>Invert a profile with fourier coefficients to yield an overdensity
map.</p>
<p><strong>Inputs:</strong></p>
<p><em>p</em> : a <a class="reference internal" href="analysis.html#pynbody.analysis.profile.Profile" title="pynbody.analysis.profile.Profile"><tt class="xref py py-func docutils literal"><span class="pre">Profile()</span></tt></a> object</p>
<p><strong>Optional Keywords:</strong></p>
<p><em>nmin</em> (1000) : minimum number of particles required per bin</p>
<p><em>mmin</em> (1)    : lowest multiplicity Fourier component</p>
<p><em>mmax</em> (7)    : highest multiplicity Fourier component</p>
<p><em>nphi</em> (100)  : number of azimuthal bins to use for the map</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Plotting</a><ul>
<li><a class="reference internal" href="#gas">gas</a></li>
<li><a class="reference internal" href="#generic">generic</a></li>
<li><a class="reference internal" href="#metals">metals</a></li>
<li><a class="reference internal" href="#profile">profile</a></li>
<li><a class="reference internal" href="#sph">sph</a></li>
<li><a class="reference internal" href="#stars">stars</a></li>
<li><a class="reference internal" href="#util">util</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="analysis.html"
                        title="previous chapter">Analysis</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/plot.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="analysis.html" title="Analysis"
             >previous</a> |</li>
        <li><a href="index.html">pynbody 0.20-beta documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011-14, pynbody team https://github.com/pynbody/pynbody/graphs/contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b1.
    </div>
  </body>
</html>